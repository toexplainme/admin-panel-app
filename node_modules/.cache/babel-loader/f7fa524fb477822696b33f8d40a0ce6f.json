{"ast":null,"code":"import { sortBy, slice } from 'lodash';\nimport { getSortAscending, getSortColumn } from \"./sort_selector\";\nimport { getCurrentPage, getPagingSize } from \"./paging_selector\";\nexport function getOrdersList(appState) {\n  return appState.ordersListReducer.ordersList;\n}\nexport function getOrdersCount(appState) {\n  return appState.ordersListReducer.countOrders;\n}\nexport function getResultOrders(appState) {\n  const {\n    filterOrderOrFio,\n    filterDateFrom,\n    filterDateTo,\n    filterStatus,\n    filterPriceFrom,\n    filterPriceTo\n  } = appState.filterReducer;\n  const column = getSortColumn(appState);\n  const ascending = getSortAscending(appState);\n  const currentPage = getCurrentPage(appState);\n  const pagingSize = getPagingSize(appState);\n  let list = getOrdersList(appState);\n  const skip = (currentPage - 1) * pagingSize;\n  const take = pagingSize;\n  list = list.filter(d => (d.name.toLowerCase().includes(filterOrderOrFio.toLowerCase()) || d.id.toString().startsWith(filterOrderOrFio.toString())) && d.sum >= filterPriceFrom && d.sum <= filterPriceTo && new Date(d.created.split(',')[0].split('.')[2], d.created.split(',')[0].split('.')[1] - 1, d.created.split(',')[0].split('.')[0]) >= new Date(filterDateFrom.split('-')[0], filterDateFrom.split('-')[1] - 1, filterDateFrom.split('-')[2]) && new Date(d.created.split(',')[0].split('.')[2], d.created.split(',')[0].split('.')[1] - 1, d.created.split(',')[0].split('.')[0]) <= new Date(filterDateTo.split('-')[0], filterDateTo.split('-')[1] - 1, filterDateTo.split('-')[2]) && filterStatus.includes(d.status.toLowerCase()));\n  list = slice(list, skip, skip + take);\n  let newList = sortBy(list, column);\n\n  if (!ascending) {\n    newList = newList.reverse();\n  }\n\n  return newList;\n}\nexport function getPagingButtons(appState) {\n  const ordersCount = getResultOrders(appState).length;\n  const pagingSize = getPagingSize(appState);\n  const totalPages = Math.ceil(ordersCount / pagingSize);\n  const Pages = [...Array(totalPages).keys()];\n  return Pages;\n}","map":{"version":3,"sources":["/Users/maksimpetrov/Desktop/git/admin-panel-app/src/data/selectors/orders_list_selector.js"],"names":["sortBy","slice","getSortAscending","getSortColumn","getCurrentPage","getPagingSize","getOrdersList","appState","ordersListReducer","ordersList","getOrdersCount","countOrders","getResultOrders","filterOrderOrFio","filterDateFrom","filterDateTo","filterStatus","filterPriceFrom","filterPriceTo","filterReducer","column","ascending","currentPage","pagingSize","list","skip","take","filter","d","name","toLowerCase","includes","id","toString","startsWith","sum","Date","created","split","status","newList","reverse","getPagingButtons","ordersCount","length","totalPages","Math","ceil","Pages","Array","keys"],"mappings":"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","sourcesContent":["import { sortBy, slice } from 'lodash'\nimport { getSortAscending, getSortColumn } from \"./sort_selector\";\nimport { getCurrentPage, getPagingSize } from \"./paging_selector\";\n\nexport function getOrdersList(appState) {   \n    return appState.ordersListReducer.ordersList;\n}\n\nexport function getOrdersCount(appState) {   \n    return appState.ordersListReducer.countOrders;\n}\n\nexport function getResultOrders(appState) {\n\n    const { \n        filterOrderOrFio,\n        filterDateFrom,\n        filterDateTo,\n        filterStatus,\n        filterPriceFrom,\n        filterPriceTo } = appState.filterReducer;\n\n    const column = getSortColumn(appState)\n    const ascending = getSortAscending(appState)\n    const currentPage = getCurrentPage(appState)\n    const pagingSize = getPagingSize(appState)\n    \n    let list = getOrdersList(appState)\n\n    const skip = (currentPage - 1) * pagingSize\n    const take = pagingSize\n\n    list = list.filter((d) => (\n        \n        (d.name.toLowerCase().includes(filterOrderOrFio.toLowerCase()) || d.id.toString().startsWith(filterOrderOrFio.toString())) &&\n\n        (d.sum >= filterPriceFrom && d.sum <= filterPriceTo) &&\n\n        ((new Date((d.created.split(',')[0]).split('.')[2], (d.created.split(',')[0]).split('.')[1]-1, (d.created.split(',')[0]).split('.')[0]) >=\n          new Date((filterDateFrom).split('-')[0], (filterDateFrom).split('-')[1]-1, (filterDateFrom).split('-')[2])) &&\n\n        (new Date((d.created.split(',')[0]).split('.')[2], (d.created.split(',')[0]).split('.')[1]-1, (d.created.split(',')[0]).split('.')[0]) <=\n         new Date((filterDateTo).split('-')[0], (filterDateTo).split('-')[1]-1, (filterDateTo).split('-')[2]))) &&\n          \n        (filterStatus.includes(d.status.toLowerCase()))\n        )\n        )\n\n    list = slice(list, skip, skip + take)\n\n    let newList = sortBy(list, column)\n    if (!ascending) {\n        newList = newList.reverse();\n    }\n\n    return newList\n}\n\n\nexport function getPagingButtons(appState) {\n\n    const ordersCount = getResultOrders(appState).length\n    const pagingSize = getPagingSize(appState)\n    const totalPages = Math.ceil(ordersCount / pagingSize)\n    const Pages = [...Array(totalPages).keys()]\n\n    return Pages\n}"]},"metadata":{},"sourceType":"module"}